<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui = "http://java.sun.com/jsf/facelets">
<h:head>
 <title>Lançamento</title>
</h:head>

<h:body>
    
    <ui:include src="/menu.xhtml"/>
   
    <br/>
    <br/>
    
    <h:form id="formLancamento">
      
        
        <h:panelGrid columns="2">
        
             <f:facet name="header">
               <h:outputText value="Lançamentos" />
             </f:facet>
             
            <h:outputLabel value="ID "/>
            <h:inputText value="#{lancamentoBean.lancamento.id}" readonly="true"/>
            
            <h:outputLabel value="Nota "/>
            <h:inputText value="#{lancamentoBean.lancamento.numeroNotaFiscal}"/>
            
            <h:outputLabel value="Origem "/>
            <h:inputText value="#{lancamentoBean.lancamento.empresaOrigem}"/>
            
            <h:outputLabel value="Destino "/>
            <h:inputText value="#{lancamentoBean.lancamento.empresaDestino}"/>
            
            <h:outputLabel/>
            
            <h:panelGroup>
     
               <h:commandButton value="Novo" action="#{lancamentoBean.novo}" image="/resources/imagens/novo.png" title="Novo"/>
               <h:commandButton value="Salvar" action="#{lancamentoBean.salvar}" image="/resources/imagens/salvar.png" title="Salvar" style="margin-left: 1cm"/>
               <h:commandButton value="Remove" action="#{lacamentoBean.remover}" image="/resources/imagens/delete.png" title="deletar" style="margin-left: 1cm"
               rendered="#{pessoaBean.permiteAcesso('ADMINISTRADOR')}" />
               <h:commandButton value="Limpar" type="reset" image="/resources/imagens/limpar.png" title="Limpar" style="margin-left: 1cm" />
                
         </h:panelGroup>
        </h:panelGrid>
       
       <h:dataTable value="#{lancamentoBean.lancamentos}" var="lanc" border="3">
       
               <f:facet name="header">Lista de Lançamentos</f:facet>
               
               <h:column>
                   <f:facet name="header">ID </f:facet>
                   <h:outputText value="#{lanc.id}"/>
               </h:column>
               
               <h:column>
                   <f:facet name="header">Nota </f:facet>
                   <h:outputText value="#{lanc.numeroNotaFiscal}"/>
               </h:column>
               
               <h:column>
                   <f:facet name="header">Origem </f:facet>
                   <h:outputText value="#{lanc.empresaOrigem}"/>
               </h:column>
               
               <h:column>
                   <f:facet name="header">Destino </f:facet>
                   <h:outputText value="#{lanc.empresaDestino}"/>
               </h:column>
               
               <h:column>
                   <f:facet name="header">Usuário </f:facet>
                   <h:outputText value="#{lanc.usuario.nome}"/>
               </h:column>
               
               <h:column>
                  <f:facet name="header">Editar</f:facet>
                  <h:commandLink type="Editar">
                      <h:graphicImage value="/resources/imagens/editar.png"/>
                      <f:setPropertyActionListener value="#{lanc}" target="#{lancamentoBean.lancamento}"/>
                  </h:commandLink>
               </h:column>
               
               <h:column rendered="#{pessoaBean.permiteAcesso('ADMINISTRADOR')}" >
                  <f:facet name="header">Excluir</f:facet>
                  <h:commandLink action="#{lancamentoBean.remover}" type="Editar">
                      <h:graphicImage value="/resources/imagens/delete.png"/>
                      <f:setPropertyActionListener value="#{lanc}" target="#{lancamentoBean.lancamento}"/>
                  </h:commandLink>
               </h:column>
       </h:dataTable>
        
    </h:form>
    
</h:body>

</html>